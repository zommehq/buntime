== Project Configuration
:order: 2

=== Project Structure

[mermaid]
----
graph TD
    subgraph "Content Directory Structure"
        ROOT[content/]
        ROOT --> P1[project-name/]
        ROOT --> P2[another-project/]

        P1 --> IDX1[index.adoc]
        P1 --> L1[en/]
        P1 --> L2[pt/]
        P1 --> L3[es/]

        L1 --> D1[getting-started/]
        L1 --> D2[configuration/]
        L1 --> D3[releases/]

        D1 --> F1[installation.adoc]
        D1 --> F2[configuration.adoc]
    end

    subgraph "API Resolution"
        API[/api/projects/:project]
        API --> SCAN[Scan content/]
        SCAN --> CONFIG[Load project config]
        CONFIG --> TREE[Build doc tree]
    end

    ROOT --> API

    style ROOT fill:#fff3cd
    style API fill:#e1f5ff
----

=== Project Map

Projects are statically configured in the `server/api.ts` file:

[source,typescript]
----
const PROJECTS: Record<string, string> = {
  // Key: friendly name (used in URL)
  // Value: project path in GitLab

  "front-manager": "hyper/front-manager",
  "lowcode-studio": "hyper/lowcode-studio",
  "gestao-pessoas": "hyper/gestao-pessoas",
  "gestor-licencas": "hyper/gestor-licencas-api",
  "hyper-kanban": "hyper/hyper-kanban-front-react",
  "edge-runtime": "hyper/edge-runtime",
  "hyper-admin": "hyper/hyper-admin-front",
};
----

=== Add New Project

[mermaid]
----
flowchart TD
    START[Add new project] --> PREP[Prepare project]
    PREP --> CHECK1{Has docs/ folder?}
    CHECK1 -->|No| CREATE[Create docs structure]
    CHECK1 -->|Yes| CHECK2{Has index.adoc?}
    CREATE --> CHECK2
    CHECK2 -->|No| CREATEIDX[Create index.adoc with metadata]
    CHECK2 -->|Yes| LANG{Multi-language?}
    CREATEIDX --> LANG
    LANG -->|Yes| LANGDIR[Create en/, pt/, es/ folders]
    LANG -->|No| SINGLE[Single language structure]
    LANGDIR --> CONTENT[Add content files]
    SINGLE --> CONTENT
    CONTENT --> MKDIR[Create folder in content/]
    MKDIR --> COPY[Copy docs to content/project-name/lang/]
    COPY --> TEST[Test locally]
    TEST --> DEPLOY[Deploy]

    style START fill:#e1f5ff
    style DEPLOY fill:#d4edda
----

.Steps to add a project:
1. Locate the project path in GitLab (e.g., `group/subgroup/project`)
2. Add an entry to the `PROJECTS` map
3. Rebuild the app

[source,typescript]
----
const PROJECTS: Record<string, string> = {
  // ... existing projects
  "my-project": "hyper/my-project",
};
----

=== Project Requirements

To work correctly, the project must have:

* `README.adoc` in the root (for Overview)
* `docs/` folder with `.adoc` files
* Release notes in one of the standard paths:
  - `docs/pt-br/release-notes.adoc`
  - `docs/en-us/release-notes.adoc`
  - `docs/release-notes.adoc`
  - `CHANGELOG.adoc`

=== Dynamic Configuration (Future)

Planned for future versions:

* API to add/remove projects
* Configuration via YAML/JSON file
* Administration interface
