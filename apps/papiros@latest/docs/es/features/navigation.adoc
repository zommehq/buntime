== Navegación
:order: 1

=== Estructura de la Interfaz

La interfaz está dividida en tres áreas principales:

1. **Header**: Logo, título y enlaces externos
2. **Sidebar**: Lista de proyectos y archivos
3. **Content**: Contenido del documento renderizado

[mermaid]
----
flowchart TB
    Root[__root.tsx<br/>RootLayout]
    Root --> Header[Header Component]
    Root --> Outlet1[Outlet]

    Header --> Logo[Logo + Title Link]
    Header --> Actions[Header Actions]
    Actions --> LangSwitch[LanguageSwitcher]
    Actions --> ModeToggle[ModeToggle]

    Outlet1 --> ProjectLayout[$project.tsx<br/>ProjectLayout]

    ProjectLayout --> SidebarProvider[SidebarProvider]
    SidebarProvider --> Sidebar[Sidebar]
    SidebarProvider --> SidebarInset

    Sidebar --> SidebarHeader[ProjectSwitcher]
    Sidebar --> SidebarContent
    SidebarContent --> SidebarMenu
    SidebarMenu --> Overview[Overview Link]
    SidebarMenu --> SidebarTree[SidebarTree<br/>Recursive]

    SidebarInset --> HeaderBar[Header Bar]
    SidebarInset --> ScrollContainer[doc-scroll-container]

    HeaderBar --> SidebarTrigger
    HeaderBar --> Breadcrumb

    ScrollContainer --> Outlet2[Outlet]
    Outlet2 --> DocViewer[DocViewer Component]

    DocViewer --> Article[Article Content]
    DocViewer --> TocAside[TocAside<br/>Table of Contents]

    Article --> HTML[Processed HTML]
    Article --> Timeline[ReleaseTimeline<br/>optional]

    style Root fill:#e1f5ff
    style ProjectLayout fill:#e1f5ff
    style DocViewer fill:#fff4e1
    style SidebarTree fill:#f0f0f0
----

=== Sidebar

La sidebar muestra:

* Lista de proyectos configurados
* Se expande al hacer clic para mostrar archivos
* Enlaces rápidos para Visión General y Release Notes
* Archivos .adoc del proyecto

=== Navegación por Proyecto

1. Haga clic en un proyecto para expandir
2. Haga clic en "Visión General" para ver el README
3. Haga clic en "Release Notes" para ver el changelog
4. Haga clic en un archivo para visualizar

=== Estados de la Interfaz

* **Loading**: Spinner durante la carga
* **Error**: Mensaje de error con orientaciones
* **Empty**: Mensaje cuando ningún proyecto está seleccionado
* **Content**: Documento renderizado

=== Responsividad

* La sidebar puede ser ocultada en pantallas menores
* Botón de toggle en el header
* El contenido ocupa todo el ancho cuando la sidebar está oculta

=== Flujo de Navegación

[mermaid]
----
sequenceDiagram
    participant User
    participant Router
    participant Layout
    participant Hooks
    participant API
    participant DocViewer

    User->>Router: Click project link
    Router->>Layout: Navigate to /$project
    Layout->>Hooks: useProjectTree(project, lang)
    Hooks->>API: GET /api/projects/{project}/tree
    API-->>Hooks: TreeResponse
    Layout->>Layout: Render sidebar with tree

    User->>Router: Click document link
    Router->>DocViewer: Navigate to /$project/{slug}
    DocViewer->>Hooks: useProjectDoc(project, slug, lang)
    Hooks->>API: GET /api/projects/{project}/docs/{slug}
    API-->>Hooks: DocResponse with HTML
    DocViewer->>DocViewer: Process HTML (fix links)
    DocViewer->>DocViewer: Render content + TOC
----
