# Lefthook configuration
# https://github.com/evilmartians/lefthook

pre-commit:
  commands:
    version-sync:
      glob: "{package.json,apps/runtime/package.json,charts/Chart.yaml}"
      run: bun scripts/check-version-sync.ts
      fail_text: "Version mismatch! Run 'bun scripts/bump-version.ts --chart=<bump> [--app=<bump>]' to sync."

    chart-version:
      glob: "charts/**"
      run: bun scripts/check-chart-version.ts
      fail_text: "Chart files changed without version bump! Run 'bun scripts/bump-version.ts --chart=patch' to fix."
